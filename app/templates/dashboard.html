{% extends "base.html" %}

{% block title %}Дашборд - CRM Система{% endblock %}

{% block content %}
<div class="container">
    <h1 style="color: white; margin-bottom: 30px;">Дашборд</h1>
    
    <!-- Статистика -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-number" id="totalClients">0</div>
            <div class="stat-label">Всего клиентов</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="totalAppointments">0</div>
            <div class="stat-label">Всего записей</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="todayAppointments">0</div>
            <div class="stat-label">Записи сегодня</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="upcomingAppointments">0</div>
            <div class="stat-label">Предстоящие записи</div>
        </div>
    </div>
    
    <!-- Последние записи -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Последние записи</h3>
            <a href="/appointments" class="btn btn-primary">Все записи</a>
        </div>
        
        <table class="table">
            <thead>
                <tr>
                    <th>Клиент</th>
                    <th>Услуга</th>
                    <th>Дата и время</th>
                    <th>Статус</th>
                </tr>
            </thead>
            <tbody id="recentAppointments">
                <!-- Данные загружаются через JS -->
            </tbody>
        </table>
    </div>
    
    <!-- Быстрые действия -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Быстрые действия</h3>
        </div>
        
        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
            <a href="/clients" class="btn btn-primary">Добавить клиента</a>
            <a href="/appointments" class="btn btn-success">Создать запись</a>
            <a href="/services" class="btn btn-secondary">Управление услугами</a>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<style>
.badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
}

.badge-primary { background: #667eea; color: white; }
.badge-success { background: #28a745; color: white; }
.badge-secondary { background: #6c757d; color: white; }
.badge-danger { background: #dc3545; color: white; }
.badge-warning { background: #ffc107; color: #212529; }
</style>
{% endblock %}